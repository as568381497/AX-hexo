---
title: iOS之开屏页图片加载问题
date: 2022-10-28 16:37:47
tags: [iOS]
category: [iOS]
---

### 项目背景：

我们的开屏页面是基于LaunchScreen的写的，就是先跳转到这个页面，然后定时再跳到首页，从而实现的开屏动画。
前段时间，有一个需求是更改开屏页面，就是换两个图片的问题，以为很简单的，结果折腾的不轻。
    
### 问题：

我们的开屏页面是两个图片，需求也就是替换这两张图片，我在Xcode上替换了这两张图片，显示，没问题，然后真机调试的时候，发现我手机进入APP的时候，开屏页面变成了全白，两张图片都不见了，然后我检查了很久发现我放的是正常的，图片也没问题，图片格式也没问题，显示的白色是LaunchScreen的背景色。
因为那天是晚上了，我就没解决，直接回去了，第二天过来解决的时候，发现真机调试又好了，显示正常，但是在其他的手机上面又是昨天的那个问题，显示的不正常。


### 探索：

因为之前没遇到过这样子的问题，在网上尝试搜索相关问题，倒是找到了几个类似的，但是尝试后发现，网上的办法都不太行，新装的手机还是会白屏，甚至于，会不会隔一段时间变好都是未知数，所以这个问题需要彻底解决下。

然后我撤回操作，发现之前的图片是好的，也就是说之前的图片是可以正常加载的，换成项目之前就存在的的任何图片都是可以的，所以，我就产生了疑惑，为什么之前图片都可以，还有为什么白屏要隔一段时间才正常，所以，我猜想是不是某些类似数据路径或者缓存的问题，因为之前的图片已经存在了，并且正确加载了，所以系统能正确的找到，新加的图片由于某些原因，系统不能找到。


### 解决：

基于这个猜想，我尝试不用常规的导入图片的方式，将图片放到Assets库里面，我直接在项目中“add”文件，也就是Xcode的菜单栏上面 的导入功能，File->Add file to xxxx

然后，再在LaunchScreen使用导入的图片，结果，果然第一次就正常加载出来图片了，并且其他测试手机也是可以正常加载的。

### 总结：

虽然是个简单的操作和开发，但是涉及到的坑很深，猜想应该是系统某些缓存导致新加入到Assets里面的图片路径设置的不正确。或者对于某个系统来说不正确，所以拿不到正确的图片路径，导致的开屏页面的白屏，然后用系统导入的方法，系统会补充某个路径，才能正常使用，总之，也是解决了一个坑
